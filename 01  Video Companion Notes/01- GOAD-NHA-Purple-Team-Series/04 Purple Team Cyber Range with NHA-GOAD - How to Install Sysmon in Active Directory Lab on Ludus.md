# Purple Team Cyber Range with NHA-GOAD | How to Install Sysmon in Active Directory Lab on Ludus

This GitHub page is a companion to the fourth video in our¬†**Purple Team Cyber Range**¬†series, where we guide you through the process of installing¬†**Sysmon (System Monitor)**¬†in an Active Directory lab environment (GOAD) running on Ludus. Sysmon is an essential tool for tracking system activity and improving security monitoring. In this tutorial, we will automate the installation using a PowerShell script, making it easy to deploy Sysmon across multiple machines.

## üì∫¬†**Watch the Video**

**Video Title**:¬†_04 Purple Team Cyber Range with NHA-GOAD | How to Install Sysmon in Active Directory Lab on Ludus_  
[Watch the video on YouTube](https://www.youtube.com/watch?v=bK5Tnf92O-Y)

## üõ†Ô∏è¬†**Key Takeaways**

1. **Installing Sysmon in NHA-GOAD**:
    
    - Learn how to install¬†**Sysmon**¬†in your Ludus GOAD environment for enhanced system monitoring.
    - Sysmon provides detailed information about process creations, network connections, and changes to file creation time, making it a critical tool for security monitoring.
    
2. **Automating Sysmon Installation with PowerShell**:
    
    - We‚Äôll show you how to automate the installation of Sysmon across multiple machines using a PowerShell script.
    - This method simplifies deployment and ensures consistency across your lab environment.
    
3. **Enhancing Security Monitoring**:
    
    - Follow along as we configure Sysmon to track system activity and integrate it with Elastic Security SIEM for real-time threat detection.
    

## üìö¬†**Resources**

Here are some useful resources mentioned in the video:

- [Sysmon PowerShell Installation Script](https://github.com/lock-wire/Install-Sysmon/blob/master/Install-Sysmon.ps1): The PowerShell script used to automate the installation of Sysmon.
- [Sysmon Official Page](https://learn.microsoft.com/en-us/sysinternals/downloads/sysmon): Learn more about Sysmon and download it directly from Microsoft‚Äôs official page.
- [NHA-GOAD Guide](https://docs.ludus.cloud/docs/environment-guides/goad-nha): Official documentation on setting up NHA-GOAD.
- [Elastic SIEM Guide](https://docs.ludus.cloud/docs/environment-guides/elastic): Guide on integrating Elastic Security SIEM.

## Previous Videos:

- [Video 1: How to Deploy a Cyber Range Using Ludus: NHA-GOAD for Purple Teaming & Elastic Security SIEM](https://youtu.be/cjTzWQ_Si3U)
- [Video 2: How to Connect to Ludus GOAD with Elastic Using WireGuard](https://youtu.be/fM65Mm011bg)
- [Video 3: Testing Our Lab Against Default Sliver C2 Implants - The Lab Works!](https://youtu.be/L5DtvxOriOU)

## üöÄ¬†**Getting Started**

## 1.¬†**Download and Install Sysmon**

Follow these steps to install Sysmon in your Active Directory lab environment:

1. Download the latest version of Sysmon from Microsoft‚Äôs official page:text
    
    `https://learn.microsoft.com/en-us/sysinternals/downloads/sysmon`
    
2. Use the provided PowerShell script to automate the installation across multiple machines:bash
    
    `https://github.com/lock-wire/Install-Sysmon/blob/master/Install-Sysmon.ps1`
    
3. Run the PowerShell script on each machine in your GOAD environment:powershell
    
    `.\Install-Sysmon.ps1`   

## 2.¬†**Configure Sysmon for Enhanced Monitoring**

Once installed, configure Sysmon with a custom configuration file that suits your security monitoring needs. You can find example configuration files on GitHub or create one tailored to your environment.

## 3.¬†**Monitor Activity with Elastic SIEM**

Integrate Sysmon logs into Elastic Security SIEM for real-time monitoring:

1. Open Kibana (Elastic's dashboard interface) by navigating to:text
    
    `https://<Elastic_IP>:5601`
    
2. Go to the¬†**Security**¬†section and view real-time alerts and logs generated by Sysmon.
3. Investigate any alerts or anomalies detected by Elastic, using Kibana‚Äôs dashboards for deeper analysis.

## ‚ö†Ô∏è¬†**Disclaimer**

This project is intended for¬†**educational purposes only**. The tools and techniques demonstrated should only be used in environments where you have explicit permission to perform penetration testing or security assessments. Unauthorized use of these tools may violate laws and regulations.

## üîß¬†**Tools Used**

- **Ludus Platform**: A cloud-based platform for deploying cybersecurity labs.
- **NHA-GOAD**: A pre-configured Active Directory environment designed for attack and defense simulations.
- **Sysinternals Sysmon**: A Windows system service that logs system activity into event logs.
- **Elastic Security (SIEM)**: A powerful tool for real-time threat detection and monitoring.

Thank you for visiting! Be sure to subscribe to¬†[I.T Security Labs on YouTube](https://www.youtube.com/@ITSecurityLabs)¬†for more tutorials and updates!